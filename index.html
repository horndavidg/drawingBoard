<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css" href="style.css">
<!-- Load the Paper.js library -->
<script type="text/javascript" src="paperjs/docs/assets/js/paper.js"></script>
<!-- Define inlined PaperScript associate it with myCanvas -->
<script type="text/paperscript" canvas="myCanvas">

tool.minDistance = 10;
tool.maxDistance = 45;

var paintBrush;

function onMouseDown(event) {
	paintBrush = new Path();

	// paintBrush.fillColor = {
	// hue: Math.random() * 360,
	// saturation: 1,
	// brightness: 1
	// };

	paintBrush.fillColor = '#'+Math.floor(Math.random()*16777215).toString(16);

	paintBrush.add(event.point);


}

function onMouseDrag(event) {

	var width = event.delta / 2;
	width.angle += 90;

	var up = event.middlePoint + width;
	var down = event.middlePoint - width;

	paintBrush.add(up);
	paintBrush.insert(0, down);
	paintBrush.smooth();
}

function onMouseUp(event) {
	paintBrush.add(event.point);
	paintBrush.closed = true;
	paintBrush.smooth();

}

</script>
</head>
<body>
	<canvas id="myCanvas" resize></canvas>
</body>
</html>